!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("image-viewer-vue",[],t):"object"==typeof exports?exports["image-viewer-vue"]=t():e["image-viewer-vue"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t,i){"use strict";var n={offsetX:0,offsetY:0,state:0};t.a={name:"image-viewer-vue",props:{imgUrlList:{type:Array,default:[],required:!0},index:{type:Number,default:0,required:!1},title:{type:String,default:"图片",required:!1}},data:function(){return{innerIndex:0,innerImgUrl:"",innerTitle:"",spinShow:!0,imageDivShow:!1,cancelButtonHighlight:!1}},methods:{imageLoadSuccess:function(){this.spinShow=!1,this.imageDivShow=!0,this.fixImageSize()},imageLoadError:function(){this.spinShow=!1,this.imageDivShow=!0},fixImageSize:function(){var e=this.$refs.imagePhoto;e.width=e.naturalWidth,e.height=e.naturalHeight;var t=e.width,i=e.height,n=document.body.clientWidth,o=document.body.clientHeight,a=t/n,r=i/o;if(a>=.9||r>=.9)if(a>=r){var s=t/(3*n/4);t=3*n/4,e.width=t,e.height=i/s}else{var c=i/(3*o/4);i=3*o/4,e.width=t/c,e.height=i}},clickMask:function(){this.closeSelf()},clickWrap:function(){this.closeSelf()},clickImageDiv:function(){this.closeSelf()},clickImagePhotos:function(){},clickImage:function(){},clickCloseIcon:function(){this.closeSelf()},leftBtnClick:function(){var e=this.imgUrlList;e.length;this.innerIndex>0?this.innerIndex--:this.innerIndex=0,this.innerImgUrl=e[this.innerIndex]},rightBtnClick:function(){var e=this.imgUrlList,t=e.length;this.innerIndex<t-1?this.innerIndex++:this.innerIndex=e.length-1,this.innerImgUrl=e[this.innerIndex]},closeSelf:function(){this.reset(),this.$emit("closeImageViewer")},reset:function(){this.position={offsetX:0,offsetY:0,state:0}},mousedown:function(e){var t=this.getEvent(e);n.offsetX=t.offsetX,n.offsetY=t.offsetY,n.state=1},mouseup:function(e){n.state=0},mousemove:function(e){var t=this.getEvent(e);if(n.state){n.endX=t.clientX,n.endY=t.clientY;var i=this.$refs.imageDiv;i.style.top=n.endY-n.offsetY+"px",i.style.left=n.endX-n.offsetX+"px"}},mouseWheelScroll:function(e){var t=this.$refs.imageDiv,i=this.$refs.imagePhoto,n=i.width,o=i.height,a=n,r=o;e.deltaY<0?n<2e3&&(a=1.025*n,r=1.025*o):n>300&&(a=.975*n,r=.975*o),i.height=Math.round(r),i.width=Math.round(a);var s=t.offsetLeft,c=t.offsetTop;t.style.left=s-(a-n)/2+"px",t.style.top=c-(r-o)/2+"px"},getEvent:function(e){return e||window.event}},watch:{index:{handler:function(e){this.innerIndex=Number(e)},immediate:!0},cancelButtonHighlight:{handler:function(e){console.log("cancelButtonHighlight = "+e)},immediate:!0},innerIndex:{handler:function(e,t){var i=Number(e),n=this.$refs.imageDiv;n&&n.style&&(n.style.top="",n.style.left=""),i<0&&(i=0),i>this.imgUrlList.length&&(i=this.imgUrlList.length-1),this.imageDivShow=!1,this.spinShow=!0,this.innerTitle=this.title+" "+(i+1)+"/"+this.imgUrlList.length,this.$set(this._data,"innerImgUrl",this.imgUrlList[i])},immediate:!0}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),o={install:function(e,t){e.component(n.a.name,n.a)}};t.default=o},function(e,t,i){"use strict";function n(e){i(3)}var o=i(0),a=i(12),r=i(11),s=n,c=r(o.a,a.a,!1,s,"data-v-73ccf1b4",null);t.a=c.exports},function(e,t,i){var n=i(4);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(9)("64b82f5a",n,!0,{})},function(e,t,i){var n=i(5);t=e.exports=i(6)(!1),t.push([e.i,".icon-guanbi-highlight[data-v-73ccf1b4],.icon-guanbi[data-v-73ccf1b4]{font-size:32px}.image-container[data-v-73ccf1b4]{width:100%}.image-container[data-v-73ccf1b4],.image-viewer-mask[data-v-73ccf1b4]{position:fixed;z-index:10000;top:0;bottom:0;left:0;right:0;background-color:rgba(55,55,55,.6);height:100%}.image-viewer-wrap[data-v-73ccf1b4]{position:fixed;overflow:auto;top:0;right:0;bottom:0;left:0;z-index:10000;display:flex;align-items:center;justify-content:center}.image-viewer-wrap .image-div[data-v-73ccf1b4]{text-align:center;margin:auto;position:absolute;background-color:#fff}.image-viewer-wrap .image-div .image-photos[data-v-73ccf1b4]{display:flex;align-items:center;justify-content:center;position:relative}.image-viewer-wrap .image-div .image-photos:hover>.leftButton[data-v-73ccf1b4],.image-viewer-wrap .image-div .image-photos:hover>.rightButton[data-v-73ccf1b4]{opacity:.4}.image-viewer-wrap .image-div .image-photos:hover>.bottomTitle[data-v-73ccf1b4]{opacity:.8}.image-viewer-wrap .image-div .image-photos .imgContent[data-v-73ccf1b4]{cursor:move}.image-viewer-wrap .image-div .image-photos .cancelButton[data-v-73ccf1b4]{width:32px;height:32px;position:absolute;top:-16px;right:-16px;background:url("+n(i(7))+") repeat;z-index:10100;cursor:pointer}.image-viewer-wrap .image-div .image-photos .cancelButton[data-v-73ccf1b4]:hover{background:url("+n(i(8))+") repeat}.image-viewer-wrap .image-div .image-photos .leftButton[data-v-73ccf1b4]{height:68px;position:absolute;top:0;bottom:0;margin-top:auto;margin-bottom:auto;left:0;background-repeat:repeat;opacity:0;z-index:10100;font-size:68px;cursor:pointer}.image-viewer-wrap .image-div .image-photos .leftButton[data-v-73ccf1b4]:hover{opacity:1}.image-viewer-wrap .image-div .image-photos .rightButton[data-v-73ccf1b4]{height:68px;position:absolute;top:0;bottom:0;margin-top:auto;margin-bottom:auto;right:0;background-repeat:repeat;opacity:0;z-index:10100;font-size:68px;cursor:pointer}.image-viewer-wrap .image-div .image-photos .rightButton[data-v-73ccf1b4]:hover{opacity:1}.image-viewer-wrap .image-div .image-photos .bottomTitle[data-v-73ccf1b4]{position:absolute;left:0;bottom:0;width:100%;height:32px;line-height:32px;background-color:rgba(0,0,0,.8);color:#fff;overflow:hidden;font-size:12px;text-align:center;opacity:0;z-index:10100}",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){function i(e,t){var i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var a=n(o);return[i].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([a]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){e.exports=i.p+"assets/img/img-viewer-cancel.png?03c15321ac38f24e608231587d1cd359"},function(e,t,i){e.exports=i.p+"assets/img/img-viewer-cancel-highlight.png?d044edd342e710a96e3d0e6dd2d5b988"},function(e,t,i){function n(e){for(var t=0;t<e.length;t++){var i=e[t],n=f[i.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](i.parts[o]);for(;o<i.parts.length;o++)n.parts.push(a(i.parts[o]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var r=[],o=0;o<i.parts.length;o++)r.push(a(i.parts[o]));f[i.id]={id:i.id,refs:1,parts:r}}}}function o(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function a(e){var t,i,n=document.querySelector("style["+v+'~="'+e.id+'"]');if(n){if(p)return h;n.parentNode.removeChild(n)}if(b){var a=g++;n=d||(d=o()),t=r.bind(null,n,a,!1),i=r.bind(null,n,a,!0)}else n=o(),t=s.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}function r(e,t,i,n){var o=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function s(e,t){var i=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),m.ssrId&&e.setAttribute(v,t.id),o&&(i+="\n/*# sourceURL="+o.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=i(10),f={},l=c&&(document.head||document.getElementsByTagName("head")[0]),d=null,g=0,p=!1,h=function(){},m=null,v="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,i,o){p=i,m=o||{};var a=u(e,t);return n(a),function(t){for(var i=[],o=0;o<a.length;o++){var r=a[o],s=f[r.id];s.refs--,i.push(s)}t?(a=u(e,t),n(a)):a=[];for(var o=0;o<i.length;o++){var s=i[o];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var w=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var i=[],n={},o=0;o<t.length;o++){var a=t[o],r=a[0],s=a[1],c=a[2],u=a[3],f={id:e+":"+o,css:s,media:c,sourceMap:u};n[r]?n[r].parts.push(f):i.push(n[r]={id:r,parts:[f]})}return i}},function(e,t){e.exports=function(e,t,i,n,o,a){var r,s=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(r=e,s=e.default);var u="function"==typeof s?s.options:s;t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId=o);var f;if(a?(f=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=f):n&&(f=n),f){var l=u.functional,d=l?u.render:u.beforeCreate;l?(u._injectStyles=f,u.render=function(e,t){return f.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,f):[f]}return{esModule:r,exports:s,options:u}}},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"imageContainer",staticClass:"image-container"},[i("div",{staticClass:"image-viewer-mask",on:{click:function(t){e.clickMask()}}}),e._v(" "),i("div",{staticClass:"image-viewer-wrap",on:{click:function(t){e.clickWrap()}}},[i("div",{ref:"imageDiv",staticClass:"image-div",on:{click:function(t){e.clickImageDiv()}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.imageDivShow,expression:"imageDivShow"}],ref:"imageDiv",staticClass:"image-photos",on:{click:function(t){e.clickImagePhotos()},mousewheel:function(t){e.mouseWheelScroll(t)}}},[i("img",{ref:"imagePhoto",staticClass:"imgContent",attrs:{draggable:"false",src:e.innerImgUrl},on:{click:function(t){t.stopPropagation(),e.clickImage()},load:function(t){e.imageLoadSuccess()},error:function(t){e.imageLoadError()},mousedown:e.mousedown,mousemove:e.mousemove,mouseup:e.mouseup}}),e._v(" "),i("span",{staticClass:"cancelButton iconfont",class:{"icon-guanbi":!e.cancelButtonHighlight,"icon-guanbi-highlight":e.cancelButtonHighlight},on:{click:function(t){t.stopPropagation(),e.closeSelf()},mouseenter:function(t){e.cancelButtonHighlight=!0},mouseleave:function(t){e.cancelButtonHighlight=!1}}}),e._v(" "),i("span",{staticClass:"leftButton iconfont icon-zuojiantou",on:{click:function(t){t.stopPropagation(),e.leftBtnClick()}}}),e._v(" "),i("span",{staticClass:"rightButton iconfont icon-youjiantou",on:{click:function(t){t.stopPropagation(),e.rightBtnClick()}}}),e._v(" "),i("span",{staticClass:"bottomTitle",on:{click:function(t){t.stopPropagation(),e.clickImage()}}},[e._v("\n                    "+e._s(e.innerTitle)+"\n                ")])])])])])},o=[],a={render:n,staticRenderFns:o};t.a=a}])});
//# sourceMappingURL=image-viewer-vue.js.map